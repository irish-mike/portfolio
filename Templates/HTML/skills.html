<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Line Drawing with Soft Turns</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="800" height="600"></canvas>
    <script>
        window.onload = function () {
            const canvas = document.getElementById('myCanvas');
            const ctx = canvas.getContext('2d');

            // Points A and B (modify these to test different scenarios)
            const pointA = { x: 100, y: 400 };
            const pointB = { x: 600, y: 100 };

            // Draw the softened segmented line
            drawSoftenedSegmentedLine(ctx, pointA, pointB, 'x');
        };

        function drawSoftenedSegmentedLine(ctx, pointA, pointB, startDirection) {
            const midX = (pointA.x + pointB.x) / 2;
            const midY = (pointA.y + pointB.y) / 2;
            const radius = 50;

            ctx.beginPath();
            ctx.moveTo(pointA.x, pointA.y);

            const drawSegment = (lineToX, lineToY, ctrlToX, ctrlToY, endX, endY) => {
                ctx.lineTo(lineToX, lineToY);
                ctx.quadraticCurveTo(ctrlToX, ctrlToY, endX, endY);
            };

            if (startDirection === 'x') {
                const direction = pointB.x > pointA.x ? 1 : -1;
                const radiusY = pointB.y > pointA.y ? radius : -radius;

                drawSegment(pointA.x, pointB.y - radiusY, pointA.x, pointB.y, pointA.x + radius * direction, pointB.y);
            } else {
                const direction = pointB.y < pointA.y ? 1 : -1;
                const radiusX = pointB.x > pointA.x ? radius : -radius;

                drawSegment(pointA.x, midY + radius * direction, pointA.x, midY, pointA.x + radiusX, midY);
                drawSegment(pointB.x - radiusX, midY, pointB.x, midY, pointB.x, midY - radius * direction);
            }

            ctx.lineTo(pointB.x, pointB.y);
            ctx.stroke();
        }


    </script>
</body>

</html>